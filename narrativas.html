<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narrativas - RPG</title>
    <link rel="stylesheet" href="narrativas.css">
    <link rel="stylesheet" href="inventario.css">
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        .narrativa-card { background: #2a2a2a; border: 2px solid #444; padding: 20px; cursor: pointer; margin: 10px 0; }
        .narrativa-card:hover { border-color: #ffd700; }
        #inventario-narrativa { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; }
        #inventario-narrativa.ativo { display: block; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Seleção de Narrativas -->
        <div id="selecao-narrativas" class="tela-ativa">
            <h1>Escolha sua Aventura</h1>
            <div class="lista-narrativas">
                <div class="narrativa-card" data-narrativa="floresta-sombria">
                    <h3>A Floresta Sombria</h3>
                    <p>Uma jornada perigosa através de terras antigas...</p>
                </div>
                <div class="narrativa-card" data-narrativa="cavernas-perdidas">
                    <h3>As Cavernas Perdidas</h3>
                    <p>Tesouros e perigos aguardam nas profundezas...</p>
                </div>
                <div class="narrativa-card" data-narrativa="coroa-de-ferro-epica">
                    <h3>A Coroa de Ferro</h3>
                    <p>Uma épica jornada em busca da lendária Coroa de Ferro...</p>
                </div>
                <div class="narrativa-card" data-narrativa="vila-abandonada">
                    <h3>A Vila Abandonada</h3>
                    <p>Explore os mistérios sombrios da Vila de Pedravale...</p>
                </div>
                <div class="narrativa-card" data-narrativa="condominio-tempo-perdido">
                    <h3>O Condomínio do Tempo Perdido</h3>
                    <p>Desperte em um condomínio misterioso sem memória de como chegou...</p>
                </div>
            </div>
        </div>

        <!-- Tela de Narrativa Ativa -->
        <div id="narrativa-ativa" class="tela-oculta">
            <div class="cabecalho">
                <button id="voltar-selecao">← Voltar</button>
                <h2 id="titulo-narrativa"></h2>
            </div>
            
            <div class="secao-atual">
                <div class="numero-secao">Seção <span id="numero-secao">1</span></div>
                <div class="texto-narrativa" id="texto-narrativa"></div>
                
                <div class="opcoes-container" id="opcoes-container">
                    <!-- Opções serão inseridas dinamicamente -->
                </div>
            </div>

            <!-- Modal para testes de atributos -->
            <div id="modal-teste" class="modal oculto">
                <div class="modal-content">
                    <h3>Teste de <span id="atributo-teste"></span></h3>
                    <p>Dificuldade: <span id="dificuldade-teste"></span></p>
                    <button id="rolar-dados">Rolar Dados</button>
                    <div id="resultado-teste" class="oculto">
                        <p>Resultado: <span id="valor-rolado"></span></p>
                        <p id="status-teste"></p>
                        <button id="continuar-teste">Continuar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

   <!-- Inventário (oculto) -->
<div id="inventario-narrativa">
    <button id="fechar-inventario-btn" style="position: fixed; top: 20px; right: 20px; background: #ff4444; color: white; border: none; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; z-index: 10000;">×</button>
    <div class="container">
        <button id="carregar-municao-btn" style="display:none;">Carregar Munição</button>
        <button onclick="resetInventory()" style="background: red; color: white; padding: 10px; display:none;">RESETAR INVENTÁRIO (TEMPORÁRIO)</button>
        
        <!-- Botão para expandir/recolher -->
        <button id="expand-btn" class="expand-button">⚔️</button>
        
        <!-- Container da parte inferior (inicialmente no topo) -->
        <div class="bottom-section" id="bottom-section">
            <div class="carousel-wrapper">
                <div class="carousel-container">
                    <div class="carousel-slide active" id="inventory-window">
                        <div class="chest-area">
                            <div class="left-panel">
                                <div class="name-panel">
                                    <span id="char-name-display">Nome do Personagem</span>
                                </div>
                                
                                <div class="profile-info-container">
                                    <img id="portrait-image" src="" alt="Retrato do Personagem" style="display: none;">
                                    <div class="info-panel">
<iframe src="ecg.html" style="position: absolute; top: -38px; left: -35px; width: 300px; height: 80px; border: none; transform: scale(0.2); z-index: 5; overflow: hidden;" scrolling="no"></iframe>
                                        <div><span id="char-class-info" class="green-text">-</span>&nbsp;&nbsp;<span id="char-race-info" class="green-text">-</span>&nbsp;&nbsp;<span id="char-alignment-info" class="green-text">-</span></div>
                                        <div><span id="char-age-info" class="green-text">-</span> ANOS&nbsp;&nbsp;&nbsp;<span id="char-hand-info" class="green-text">-</span>&nbsp;&nbsp;&nbsp;HEM: <span id="char-hemisphere-info" class="green-text">-</span></div>
                                        <div>HA: <span id="char-skill-info" class="green-text">-</span>&nbsp;&nbsp;CA: <span id="char-charisma-info" class="green-text">-</span>&nbsp;&nbsp;MA: <span id="char-magic-info" class="green-text">-</span>&nbsp;&nbsp;SO: <span id="char-luck-info" class="green-text">-</span></div>
                                        <div>COURAÇA: <span id="char-couraca-info" class="green-text">0</span>&nbsp;&nbsp;DANO: <span id="char-dano-info" class="green-text">1</span>&nbsp;&nbsp;DIA: <span id="char-day-info" class="green-text">1</span></div>
                                        <div>P.OURO: <span id="char-po-info" class="green-text">0</span>&nbsp;&nbsp;NÍVEL: <span id="char-level-info" class="green-text">1</span></div>
                                    </div>
                                </div>

                                <div class="item-preview">
                                    <div class="preview-image-window">
                                        <div class="preview-image-container">
                                            <img id="preview-image" src="" alt="Item Preview" style="display: none;">
                                        </div>
                                    </div>
                                    <div class="preview-info-window">
                                        <div class="preview-info">
                                            <h3 id="preview-name"></h3>
                                            <p id="preview-description"></p>
                                        </div>
                                    </div>
                                    <div class="item-actions-window" id="item-actions-window" style="display: none;">
                                        <div class="action-buttons">
    <button class="action-btn" id="action-usar">Usar</button>
    <button class="action-btn" id="action-combinar">Combinar</button>
    <button class="action-btn" id="action-checar">Checar</button>
    <button class="action-btn" id="action-descartar">Descartar</button>
</div>

                                    </div>
                                </div>
                            </div>
                            <div class="right-panel">
                                <div class="chest">
                                    <div class="items">
                                        <div class="item">
                                            Item de Exemplo
                                            <span class="item-expand-toggle">+</span>
                                            <div class="item-description" style="display: none;">
                                                Descrição deste item de exemplo.
                                            </div>
                                        </div>
                                    </div>
                                   
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="carousel-slide" id="character-sheet">
                        <div class="sheet-grid-container">
                            <div class="sheet-header">
                                <p><strong>Nome:</strong> <span id="char-name">-</span></p>
                                <p><strong>Classe:</strong> <span id="char-class">-</span></p>
                                <p><strong>Raça:</strong> <span id="char-race">-</span></p>
                            </div>
                            <div class="sheet-main-status">
                                <div class="attribute">
                                    <span class="label">Energia</span>
                                    <span id="char-energy">0/0</span>
                                    <div class="barra-hp-container">
                                        <div id="barra-hp-inventario" class="barra-hp"></div>
                                    </div>
                                </div>
                                <div class="attribute xp-attribute">
                                    <span class="label">Nível</span>
                                    <span id="char-level">1</span>
                                    <div class="xp-container">
                                        <span id="char-xp">0/100</span>
                                        <div class="barra-xp-container">
                                            <div id="barra-xp-inventario" class="barra-xp"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="sheet-stats-grid">
                                <div class="stat-box"><span class="label">Habilidade</span><span id="char-skill">0</span></div>
                                <div class="stat-box"><span class="label">Couraça</span><span id="char-couraca">0</span></div>
                                <div class="stat-box"><span class="label">Carisma</span><span id="char-charisma">0</span></div>
                                <div class="stat-box"><span class="label">Dano</span><span id="char-dano">0</span></div>
                                <div class="stat-box"><span class="label">Magia</span><span id="char-magic">0</span></div>
                                <div class="stat-box"><span class="label">Sorte</span><span id="char-luck">0</span></div>
                            </div>
                            <div class="sheet-footer">
                                <span><strong>Alinhamento:</strong> <span id="char-alignment">-</span></span>
                                <span><strong>Mão:</strong> <span id="char-hand">-</span></span>
                                <span><strong>Hemisfério:</strong> <span id="char-hemisphere">-</span></span>
                                <span><strong>Dia:</strong> <span id="char-day">1</span></span>
                                <span><strong>Idade:</strong> <span id="char-idade">-</span></span>
                            </div>
                        </div>
                    </div>

                    <div class="carousel-slide" id="dice-window">
                        <div class="dice-slots-container">
                            <h3>Dados Equipados</h3>
                            <div class="dice-slots-grid">
                                <div class="dice-slot-row">
                                    <div class="dice-slot" data-dice="D3">D3</div>
                                    <div class="dice-slot" data-dice="D4">D4</div>
                                    <div class="dice-slot" data-dice="D6">D6</div>
                                </div>
                                <div class="dice-slot-row">
                                    <div class="dice-slot" data-dice="D8">D8</div>
                                    <div class="dice-slot" data-dice="D10">D10</div>
                                    <div class="dice-slot" data-dice="D12">D12</div>
                                </div>
                                <div class="dice-slot-row">
                                    <div class="dice-slot" data-dice="D20">D20</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chest dice-chest">
                            <h2>Coleção de Dados</h2>
                            <div class="dice-items">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="carousel-nav">
                    <div class="carousel-buttons">
                        <button id="prevBtn">◀</button>
                        <button id="nextBtn">▶</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Container da parte superior (slots de equipamentos) -->
        <div class="top-section" id="top-section">
            <div class="character">
                <div class="equipment">
    <div class="slot-row helmet-row">
        <div class="slot" id="helmet" data-slot="helmet">Cabeça</div>
    </div>
    <div class="slot-row weapon-shield-row">
        <div class="slot" id="weapon" data-slot="weapon">Mão Esquerda</div>
        <div class="slot" id="shield" data-slot="shield">Mão Direita</div>
    </div>
    <div class="slot-row gloves-amulet-row">
        <div class="slot" id="gloves" data-slot="gloves">Luvas</div>
        <div class="slot" id="amulet" data-slot="amulet">Amuleto</div>
    </div>
    <div class="slot-row armor-row">
        <div class="slot" id="armor" data-slot="armor">Peitoral</div>
    </div>
    <div class="slot-row rings-row">
        <div class="slot" id="ring" data-slot="ring">Anel</div>
        <div class="slot" id="ring2" data-slot="ring">Anel</div>
    </div>
</div>


            </div>
        </div>
    </div>
</div>

<script type="module" src="inventario.js"></script>
<script type="module" src="narrativas.js"></script>
</body>
</html>

